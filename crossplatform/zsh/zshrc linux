# APPEND COMMON ZSHRC   #
#       LINUX           #

# <-- homebrew -->
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"

# <-- starship -->
eval "$(starship init zsh)"

# <-- zsh plugins -->
# installed via pacman
# source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
# source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

# installed via apt
# source /usr/share/zsh-autosuggestions/zsh-autosuggestions.zsh
# source /usr/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

# installed via brew
# source /home/linuxbrew/.linuxbrew/opt/zsh-autosuggestions/share/zsh-autosuggestions/zsh-autosuggestions.zsh
# source /home/linuxbrew/.linuxbrew/opt/zsh-syntax-highlighting/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

# <-- nvm -->
# official way to load
# export NVM_DIR="$HOME/.nvm"
# [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" 
# [ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"

# lazy nvm load on request installed recommended by script
lazynvm() {
  unset -f nvm node npm npx
  export NVM_DIR="$HOME/.nvm"
  [ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"
}

# lazy nvm load on request installed by brew
# lazynvm() {
#   unset -f nvm node npm npx
#   export NVM_DIR="$HOME/.nvm"
#   [ -s "/home/linuxbrew/.linuxbrew/opt/nvm/nvm.sh" ] && . "/home/linuxbrew/.linuxbrew/opt/nvm/nvm.sh"
# }

# nvm placeholders
nvm() {
  lazynvm
  nvm "$@"
}
node() {
  lazynvm
  node "$@"
}
npm() {
  lazynvm
  npm "$@"
}
npx() {
  lazynvm
  npx "$@"
}

# <-- rustup -->
export PATH="/home/linuxbrew/.linuxbrew/opt/rustup/bin:$PATH"